<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>مؤسسة عبر الأوطان</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* CSS Variables for consistent theming */
    :root {
      --logo-blue-primary: #2D8CFF;
      --logo-blue-secondary: #00A2FF;
      --logo-orange-primary: #FF8C00;
      --logo-yellow-accent: #FFD700;
      --logo-purple-hint: #5A00E0; 

      --text-light: #FFFFFF;
      --text-dark-subtle: #E0E0E0; 
      
      --dark-gradient-start: #0f172a; 
      --dark-gradient-end: #1e293b;   

      --section-overlay: linear-gradient(135deg, rgba(15, 23, 42, 0.92), rgba(25, 33, 52, 0.88)); 
      
      --nav-gradient: linear-gradient(100deg, var(--logo-blue-primary), var(--logo-blue-secondary));
      --button-accent-gradient: linear-gradient(45deg, var(--logo-orange-primary), var(--logo-yellow-accent));
      --footer-gradient: linear-gradient(90deg, var(--dark-gradient-start), var(--dark-gradient-end));
      --card-bg: rgba(255, 255, 255, 0.08); 
      --card-border-hover: linear-gradient(to right, var(--logo-blue-secondary), var(--logo-orange-primary));
    }

    /* Base Body Styling */
    body {
      margin: 0;
      font-family: 'Cairo', sans-serif;
      scroll-behavior: smooth;
      background-image: url('ded72db05a03ef76668e7b66e565bd5d.pg'); /* Ensure this path is correct */
      background-size: cover;
      background-attachment: fixed;
      background-position: center;
      background-repeat: no-repeat;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      color: var(--text-light); 
    }

    /* Navigation Bar Styling */
    nav {
      position: fixed;
      top: 0;
      width: 100%;
      background: var(--nav-gradient);
      color: var(--text-light);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 5px 20px;
      box-sizing: border-box;
      z-index: 999;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    #nav-logo-img {
        height: 40px;
        width: auto;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 5px; 
      margin: 0;
      padding: 0;
    }
    nav a {
      color: var(--text-light);
      text-decoration: none;
      font-weight: bold;
      padding: 10px 12px; 
      border-radius: 4px;
      transition: background-color 0.3s ease, color 0.3s ease;
      position: relative; 
    }
    nav a::after { 
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 5px; 
        left: 50%;
        transform: translateX(-50%);
        background-color: var(--logo-orange-primary);
        transition: width 0.3s ease;
    }
    nav a:hover::after {
        width: 70%; 
    }
    nav a:hover {
        color: var(--logo-yellow-accent); 
    }

    /* Language Switcher Button */
    #language-switcher {
      position: fixed;
      left: 10px;
      bottom: 10px;
      background: var(--button-accent-gradient);
      color: var(--text-light);
      border: none;
      padding: 8px 12px; 
      font-weight: bold;
      border-radius: 6px; 
      cursor: pointer;
      box-sizing: border-box;
      z-index: 1000;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    #language-switcher:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }

    /* Main Content Area */
    main {
      flex-grow: 1;
      width: 100%;
    }

    /* General Section Styling */
    section {
      background: var(--section-overlay);
      min-height: 100vh; 
      height: auto; 
      padding: 100px 20px 40px; 
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: var(--text-light);
      width: 100%;
      border-bottom: 1px solid rgba(255,255,255,0.1); 
    }
     section:last-of-type {
        border-bottom: none; 
    }
    
    section#home { /* Ensure home section is a positioning context for the widget */
        position: relative;
    }

    /* Home Section Specifics */
    #home h1#home-title { 
      font-size: 3.2em; 
      font-weight: 700;
      color: var(--logo-yellow-accent); 
      background: none;
      -webkit-background-clip: initial; /* Resetting webkit-specific styles */
      -webkit-text-fill-color: initial; /* Resetting webkit-specific styles */
      padding: 10px 20px;
      text-shadow: 
        0 0 5px rgba(255,255,255,0.8), 
        0 0 10px var(--logo-yellow-accent), 
        0 0 20px var(--logo-yellow-accent), 
        0 0 30px var(--logo-orange-primary),
        0 0 40px var(--logo-orange-primary);
      margin-bottom: 15px;
    }

    #home p#home-desc { 
        font-size: 1.3em;
        color: var(--text-dark-subtle);
        margin-bottom: 20px; 
    }

    .hero-gif { 
        max-width: 90%;
        width: 525px; 
        height: auto;
        border-radius: 8px;
        margin-top: 15px; 
        margin-bottom: 15px; 
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    /* Tracking Widget on Home Page */
    #home-tracking-widget {
        position: absolute;
        top: 90px; /* Below navbar */
        right: 30px;
        width: 300px;
        max-width: calc(100% - 60px); /* Ensure it doesn't overflow on small screens */
        background-color: rgba(15, 23, 42, 0.85); /* Dark slate, semi-transparent */
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        z-index: 10;
        color: var(--text-light);
        border: 1px solid rgba(45, 140, 255, 0.5); /* Using direct RGB for alpha */
    }
    #home-tracking-widget h2 { /* Tracking title inside widget */
        font-size: 1.4em;
        color: var(--logo-orange-primary);
        margin-top: 0;
        margin-bottom: 10px;
    }
    #home-tracking-widget p { /* Tracking description inside widget */
        font-size: 0.9em;
        margin-bottom: 15px;
        color: var(--text-dark-subtle);
    }
    #home-tracking-widget #tracking-input {
        width: calc(100% - 30px); /* Full width minus padding, already has padding inside */
        margin-bottom: 10px;
        background-color: rgba(255,255,255,0.05);
        border: 1px solid var(--logo-blue-secondary);
        padding: 12px 15px; /* Ensure padding is applied to input */
        border-radius: 6px;
        color: var(--text-light);
        font-family: 'Cairo', sans-serif;
    }
    #home-tracking-widget #track-button {
        width: 100%;
        padding: 10px 15px !important; 
        font-size: 0.95em; 
        /* General #track-button styles apply */
    }
    #home-tracking-widget #tracking-results {
        margin-top: 15px;
        background: rgba(255, 255, 255, 0.05);
        padding: 10px;
        border-radius: 5px;
        min-height: 40px; 
        font-size: 0.85em;
        text-align: start; 
        border: 1px dashed var(--logo-blue-secondary);
    }

    /* General Heading Styles */
    h1, h2 {
      margin-bottom: 25px; 
      color: var(--text-light);
      font-weight: 700;
    }
    section:not(#home) h2 { /* Adjusts h2 size for sections other than home */
        font-size: 2.2em;
    }
    
    /* Container for info-cards and team-members (used in Across, Team, Locations) */
    .card-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 25px; 
      margin-top: 30px;
      max-width: 1100px; 
      margin-left: auto; /* Center the container */
      margin-right: auto; /* Center the container */
    }

    /* Base Styling for Info Cards and Team Members */
    .info-card, .team-member { 
      background: var(--card-bg);
      border-radius: 12px; 
      padding: 25px; 
      /* width: 300px; - Remove this if using flex-basis to control width */
      backdrop-filter: blur(8px); 
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      color: var(--text-dark-subtle);
      text-align: center;
      border: 1px solid rgba(255,255,255,0.1); 
      position: relative; 
      overflow: hidden; 
      
      /* Flexbox properties for individual cards within their container */
      flex-basis: 300px; /* Ideal width, allows cards to try and be 300px wide */
      flex-grow: 1; /* Allows cards to grow and fill available space if less than 3 fit */
      max-width: 100%; /* Ensures cards don't overflow on small screens */
      box-sizing: border-box; /* Crucial for consistent sizing including padding/border */
    }

    /* Hover effects for cards */
    .info-card::before, .team-member::before { 
        content: "";
        position: absolute;
        top: 0; right: 0; bottom: 0; left: 0;
        z-index: -1;
        margin: -2px; /* Creates the border effect */
        border-radius: inherit; 
        background: transparent; 
        transition: background 0.4s ease;
    }

    .info-card:hover, .team-member:hover {
      transform: translateY(-8px); 
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    .info-card:hover::before, .team-member:hover::before {
        background: var(--card-border-hover); 
    }

    /* Card Heading and Paragraph Styles */
    .info-card h3, .team-member h3 {
      margin-top: 0;
      font-size: 1.5em; 
      margin-bottom: 12px;
      color: var(--logo-orange-primary); 
      font-weight: 700;
    }
     #about .team-member h3 { /* Specific for team members in About Us */
        color: var(--text-light);
    }
     #team .team-member.highlight h3 { /* Specific for highlighted team member */
        color: var(--logo-yellow-accent);
     }

    .info-card p, .team-member p {
      font-size: 1em;
      line-height: 1.7; 
    }
   
    /* Team Member Photo Styling */
    .team-photo {
      width: 120px; 
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 20px;
      border: 3px solid var(--logo-blue-secondary); 
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
    #team .team-member.highlight .team-photo {
        border-color: gold;
    }

    /* Illustration Images */
    img.illustration {
      max-width: 580px; 
      transition: transform 0.3s ease;
      margin-top: 20px;
    }
    img.illustration:hover {
      transform: scale(1.08); 
    }
    section img.illustration[src="logo 210.jpg"] { /* Specific override for a logo illustration */
        max-width: 200px; 
        max-height: 150px; 
        background: rgba(255,255,255,0.1); 
        border-radius: 8px;
        padding: 10px;
    }

    /* Map Container (now removed from HTML, keeping style for reference or if re-added) */
    .map-container {
      width: 100%;
      max-width: 600px;
      height: 400px;
      margin-top: 20px;
      border-radius: 8px;
      overflow: hidden; 
    }

    /* Footer Styling */
    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      z-index: 990;
      background: var(--footer-gradient);
      color: var(--text-dark-subtle);
      text-align: center;
      padding: 15px 10px; 
      box-sizing: border-box;
      font-size: 0.9em;
    }

    /* General Input Field Styling */
    input[type="text"] { 
      padding:12px 15px; 
      width:80%;
      max-width:350px; 
      border-radius: 6px;
      border: 1px solid var(--logo-blue-primary); 
      background-color: rgba(255,255,255,0.1); 
      color: var(--text-light); 
      font-family: 'Cairo', sans-serif;
    }
    input[type="text"]::placeholder {
        color: var(--text-dark-subtle);
    }
    ul {
      color: var(--text-dark-subtle);
      text-align: start;
      line-height: 1.8;
    }
    
    /* Chatbot Icon and Main Container Styling */
    #chat-icon {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1200;
    }
    #chat-icon button {
      padding: 12px;
      border: none;
      border-radius: 50%;
      background: var(--logo-blue-primary);
      color: var(--text-light);
      font-size: 22px; 
      box-shadow: 0 2px 8px rgba(0,0,0,0.4);
      cursor: pointer;
      transition: transform 0.2s ease, background-color 0.2s ease;
    }
    #chat-icon button:hover {
        transform: scale(1.1);
        background: var(--logo-blue-secondary);
    }

    #chatbot {
      display: none; /* Initially hidden */
      position: fixed;
      bottom: 80px;
      right: 20px;
      width: 330px; 
      height: 450px; 
      background: #fff;
      border: 1px solid var(--logo-blue-primary);
      border-radius: 10px; 
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      z-index: 1200;
      overflow: hidden;
      flex-direction: column; /* Use flex for internal layout */
    }
    #chatbot-header {
      background: var(--logo-blue-primary);
      color: var(--text-light);
      padding: 12px 15px; 
      text-align: center;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.1em;
    }
    #lang-toggle { 
      background: rgba(255,255,255,0.2);
      border: none;
      color: var(--text-light);
      font-weight: bold;
      cursor: pointer;
      font-size: 0.9rem;
      padding: 5px 8px;
      border-radius: 4px;
      transition: background-color 0.2s ease;
    }
    #lang-toggle:hover {
        background: rgba(255,255,255,0.3);
    }
    #chat-log {
      flex: 1; /* Takes remaining vertical space */
      padding: 15px; 
      overflow-y: auto;
      font-size: 14px;
      background-color: #f4f7f9; 
    }
    #chat-form {
      display: flex;
      border-top: 1px solid #ddd;
      padding: 5px; 
      background-color: #fff;
    }
    #user-input { 
      flex: 1; /* Takes remaining horizontal space */
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 20px; 
      outline: none;
      margin-right: 5px;
      font-family: 'Cairo', sans-serif;
      color: #333;
    }
    #chat-form button { 
      padding: 10px 15px;
      background: var(--logo-blue-primary);
      border: none;
      color: var(--text-light);
      cursor: pointer;
      border-radius: 20px; 
      transition: background-color 0.2s ease;
    }
     #chat-form button:hover {
        background: var(--logo-blue-secondary);
     }

    /* Chat Message Animations and Styles */
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-6px); }
      40%, 80% { transform: translateX(6px); }
    }
    .chat-message {
        padding: 8px 12px;
        border-radius: 15px;
        margin-bottom: 8px;
        max-width: 80%;
        line-height: 1.4;
    }
    .chat-message.user {
      text-align: right;
      background-color: var(--logo-blue-primary);
      color: white;
      margin-left: auto; 
      border-bottom-right-radius: 5px;
    }
    .chat-message.bot {
      text-align: left;
      background-color: #e9ebee;
      color: #333;
      margin-right: auto; 
      border-bottom-left-radius: 5px;
    }
    #typing-indicator {
      font-style: italic;
      color: #777;
      padding: 5px 10px;
    }
   
    /* General Track Button Styling */
    #track-button, .action-button { /* Added .action-button class for new buttons */
        padding: 12px 25px; 
        margin-top: 20px; 
        background: var(--button-accent-gradient); 
        color: white; 
        border: none;
        border-radius: 6px; 
        cursor: pointer;
        font-weight: bold;
        text-transform: uppercase; 
        letter-spacing: 0.5px; 
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        text-decoration: none; /* For anchor tags styled as buttons */
        display: inline-block; /* For anchor tags styled as buttons */
        min-width: 150px; /* Ensure buttons have minimum width */
    }
    #track-button:hover, .action-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }
    
    /* Chatbot Quick Reply Buttons */
    .quick-reply-container button {
        background: var(--logo-blue-primary);
        color: #fff;
        border: none;
        padding: 8px 15px; 
        border-radius: 20px; 
        cursor: pointer;
        font-size: 0.9rem;
        transition: background-color 0.2s ease;
    }
    .quick-reply-container button:hover {
        background: var(--logo-blue-secondary);
    }

    /* CUSTOM CSS FOR ABOUT US TEAM CARDS - START */
    /* Container for the three team members in the About Us section */
    #about .about-team-members-container { /* More specific selector */
      display: flex;
      flex-wrap: wrap; /* Allows cards to wrap to the next line on smaller screens */
      justify-content: center; /* Centers the row of cards horizontally */
      gap: 25px; /* Space between cards */
      margin-top: 30px; /* Space above the cards */
      max-width: 1100px; /* Limits the container width */
      margin-left: auto; /* Centers the container itself */
      margin-right: auto; /* Centers the container itself */
      align-items: flex-start; /* IMPORTANT: Align items to the top to ensure consistent baseline for non-CEO cards */
    }

    /* Styles for individual team member cards within this specific container */
    #about .about-team-members-container .team-member { /* More specific selector */
      flex-basis: 300px; /* Ideal width */
      flex-grow: 1; /* Allows growing */
      max-width: 100%; /* Prevents overflow */
      box-sizing: border-box; /* Ensures padding and border are included in the width */
      /* No width property here to let flex-basis and flex-grow manage width */
    }

    /* Specific styling for the CEO card to make it higher */
    #about .ceo-card { /* More specific selector */
      margin-top: -30px; /* Adjust this value to control how much higher it is */
      /* No align-self here as align-items: flex-start on parent combined with negative margin works best */
    }
    /* CUSTOM CSS FOR ABOUT US TEAM CARDS - END */

    /* New styles for file upload section */
    .upload-section {
        background: var(--card-bg);
        border-radius: 12px;
        padding: 30px;
        margin-top: 40px;
        max-width: 700px;
        width: 100%;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255,255,255,0.1);
        color: var(--text-light);
        text-align: center;
    }
    .upload-section h3 {
        color: var(--logo-orange-primary);
        margin-bottom: 20px;
    }
    .file-input-group {
        margin-bottom: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .file-input-group label {
        display: block;
        background: var(--logo-blue-secondary);
        color: white;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        transition: background-color 0.2s ease;
        margin-bottom: 10px;
    }
    .file-input-group label:hover {
        background: var(--logo-blue-primary);
    }
    .file-input-group input[type="file"] {
        display: none; /* Hide default file input */
    }
    .file-upload-status {
        font-size: 0.9em;
        color: var(--text-dark-subtle);
        margin-top: 5px;
        min-height: 20px; /* Reserve space */
    }

    /* Styles for new documentation section */
    #documentation {
        background: var(--section-overlay);
        min-height: 50vh; /* Adjust as needed */
    }
    #documentation .action-button {
        margin-top: 30px;
    }

    /* Styles for contact links */
    .contact-links-container {
        display: flex;
        flex-direction: column; /* Stack vertically by default */
        gap: 20px;
        margin-top: 30px;
        max-width: 400px; /* Limit width for aesthetics */
        width: 100%;
    }
    .contact-links-container .action-button {
        width: 100%; /* Make buttons full width in this container */
        margin-top: 0; /* Override general button margin */
        text-transform: none; /* No uppercase for these specific buttons */
        font-size: 1.1em;
    }

    /* Media Queries for Responsiveness */
    @media (max-width: 768px) {
        nav ul {
            flex-direction: column;
            gap: 0;
        }
        nav a {
            padding: 8px 10px;
        }
        #home-tracking-widget {
            position: static; /* Stack on smaller screens */
            width: auto;
            max-width: 90%;
            margin: 20px auto; /* Center it */
            padding: 15px;
        }
        #home-title {
            font-size: 2.5em;
        }
        #home-desc {
            font-size: 1.1em;
        }
        section {
            padding: 80px 15px 30px;
        }
        section:not(#home) h2 {
            font-size: 1.8em;
        }
        .hero-gif {
            width: 100%;
        }
        .info-card, .team-member {
            flex-basis: auto; /* Allow them to take full width or adjust */
            width: 90%; /* Max width for smaller screens */
            max-width: 350px; /* Prevent them from becoming too wide on smaller tablets */
        }
        #about .about-team-members-container {
            flex-direction: column; /* Stack cards vertically */
            align-items: center; /* Center stacked cards */
            gap: 20px;
        }
        #about .ceo-card {
            margin-top: 0; /* Remove negative margin when stacked */
        }
        #chatbot {
            width: 90%;
            right: 5%;
            left: 5%;
            bottom: 80px;
            height: 70vh; /* Make it taller on mobile */
        }
        #chat-icon {
            bottom: 20px;
            right: 20px;
        }
        footer {
            padding: 10px;
        }
        .upload-section {
            padding: 20px;
        }
        .file-input-group label {
            width: 100%;
            box-sizing: border-box;
        }
    }

    @media (max-width: 480px) {
        #home-title {
            font-size: 2em;
        }
        #home-desc {
            font-size: 1em;
        }
        nav {
            padding: 5px 10px;
        }
        nav ul {
            gap: 2px;
        }
        nav a {
            padding: 8px 8px;
            font-size: 0.9em;
        }
        #language-switcher {
            padding: 6px 10px;
            font-size: 0.8em;
        }
        .team-photo {
            width: 100px;
            height: 100px;
        }
        input[type="text"] {
            padding: 10px;
            font-size: 0.9em;
        }
        .chat-message {
            font-size: 13px;
        }
    }
  </style>
</head>
<body>
  <nav>
    <div><img src="logo 21.png" alt="عبر الأوطان Logo" id="nav-logo-img"/></div>
    <ul>
      <li><a href="#home" id="nav-home">الرئيسية</a></li>
      <li><a href="#about" id="nav-about">من نحن</a></li>
      <li><a href="#jobs" id="nav-jobs">الوظائف</a></li>
      <li><a href="#across" id="nav-across">عنا</a></li>
      <li><a href="#Locations" id="nav-Locations">مواقعنا</a></li>
      <li><a href="#team" id="nav-team">فريقنا</a></li>
      <li><a href="#documentation" id="nav-documentation">المستندات</a></li> <!-- New Nav Link -->
      <li><a href="#contact" id="nav-contact">تواصل</a></li>
    </ul>
      <button id="language-switcher">EN</button>
  </nav>

  <main> 
    <section id="home" class="hero">
      <div id="home-tracking-widget">
        <h2 id="tracking-title">تتبع شحنتك</h2> 
        <p id="tracking-desc">أدخل رقم التتبع لمعرفة حالة شحنتك:</p> 
        <input type="text" placeholder="أدخل رقم التتبع" id="tracking-input"> 
        <button id="track-button">تتبع الشحنة</button> 
        <div id="tracking-results" style="display: none;"></div> 
      </div>

      <h1 id="home-title">مرحبًا بك في عبر الأوطان</h1>
      <p id="home-desc">نقدم حلول شحن ذكية ومخفضة داخل المملكة</p>
      <img src="abr alawtan vehicles 3.png" alt="شحن" class="illustration" />
    </section>

    <section id="about" class="about">
      <h2 id="about-title">من نحن</h2>
      <p id="about-desc"> نحن مؤسسة وساطة شحن تعمل منذ اكثر من عقد من الزمان لتجمع أفضل شركات الشحن في منصة واحدة.</p>
      <img src="logo 21.png" alt="عن الشركة" class="illustration" />
      <!-- CONTAINER FOR TEAM MEMBERS IN ABOUT SECTION - CEO in middle -->
      <div class="about-team-members-container">
        <div class="team-member"> <!-- General Manager card -->
          <img src="fahad-transformed.png" alt="المدير العام" class="team-photo" />
          <h3>المدير العام</h3>
          <p>يشرف على العمليات اليومية ويضمن جودة الخدمات المقدمة للعملاء.</p>
        </div>

        <div class="team-member ceo-card"> <!-- CEO card (middle) -->
          <img src="CEO.PNG" alt="المدير التنفيذي" class="team-photo" />
          <h3>المدير التنفيذي</h3>
          <p>يقود المؤسسة برؤية استراتيجية ويضمن تحقيق أهداف النمو والتوسع.</p>
        </div>

        <div class="team-member"> <!-- Administrative Manager card -->
          <img src="admin-manager.jpg" alt="المدير الإداري" class="team-photo" />
          <h3>المدير الإداري</h3>
          <p>يدير الموارد الإدارية والمالية ويضمن التزام المؤسسة بالإجراءات التنظيمية.</p>
        </div>
      </div>
    </section>

    <section id="jobs" class="jobs">
      <h2 id="jobs-title">فرص العمل</h2>
      <p id="jobs-desc">انضم إلى فريقنا وكن جزءًا من نجاحنا!</p>
      <ul id="jobs-list">
        <li>مسوق ميداني</li>
        <li>موظف خدمة عملاء</li>
        <li>محلل بيانات لوجستية</li>
      </ul>
      

      <!-- Job Application File Upload Section -->
      <div class="upload-section">
        <h3 id="upload-cv-title">تقديم طلب وظيفة (اختياري)</h3>
        <p id="upload-cv-desc">يمكنك رفع سيرتك الذاتية ووثائقك هنا. للتقديم الكامل، يرجى ملء نموذج طلب الوظيفة عبر الرابط في صفحة التواصل.</p>
        
        <div class="file-input-group">
          <label for="cv-upload-input" id="cv-upload-label">رفع السيرة الذاتية (PDF)</label>
          <input type="file" id="cv-upload-input" accept=".pdf">
          <span id="cv-upload-status" class="file-upload-status"></span>
        </div>

        <div class="file-input-group">
          <label for="id-upload-input" id="id-upload-label">رفع رخصة القيادة/الهوية (JPG, PNG)</label>
          <input type="file" id="id-upload-input" accept=".jpg,.jpeg,.png">
          <span id="id-upload-status" class="file-upload-status"></span>
        </div>
        <p id="upload-note" style="font-size:0.8em; color: var(--text-dark-subtle);">
            ملاحظة: هذه الواجهة تسمح لك باختيار الملفات فقط. لرفع الملفات فعلياً إلى أنظمتنا، يرجى استخدام نموذج طلب الوظيفة في صفحة "تواصل معنا" والذي يدعم رفع الملفات.
        </p>
      </div>
    </section>

    <section id="across" class="across">
      <h2 id="across-title">عنا</h2>
      <div class="card-container">
        <div class="info-card">
          <h3>رؤيتنا</h3>
          <p>أن نكون الخيار الأول والأكثر ثقة في قطاع الشحن المحلي داخل المملكة، من خلال تقديم حلول شحن ذكية، سريعة، وموثوقة تلبي احتياجات الأفراد والتجار.ة.</p>
        </div>
        <div class="info-card">
          <h3>رسالتنا</h3>
          <p>توفير خدمات وساطة شحن محلية بتكلفة مناسبة وجودة عالية، من خلال شراكات استراتيجية مع أفضل شركات الشحن بنظامي CSP  و DSP، وتمكين العملاء من الوصول إلى خيارات متنوعة بكل يسر وشفافية..</p>
        </div>
        <div class="info-card">
          <h3>أهدافنا</h3>
          <p>تحقيق التوسع، رضا العملاء، وبناء شراكات استراتيجية مع شركات الشحن المحلية.</p>
        </div>
        <div class="info-card">
          <h3>قيمنا</h3>
          <p>الشفافية: نلتزم بتقديم معلومات واضحة وصحيحة لعملائنا. الابتكار: نسعى لتبسيط تجربة الشحن وتقديم حلول تقنية متقدمة. الثقة: نبني علاقات طويلة المدى مبنية على الصدق والمصداقية. الاحترافية: نقدم خدماتنا بكفاءة عالية ومعايير مهنية صارمة.
          </p>
        </div>
      </div>
      <img src="logo 21.jpg" alt="عنا" class="illustration" />
    </section>

    <section id="team" class="about"> 
      <h2 id="team-title">فريقنا</h2>
      <div class="team-member highlight"> 
        <img src="salman.JPG" alt="موظف الشهر" class="team-photo">
        <h3 id="employee-month-name">سلمان خان</h3>
        <p id="employee-month-title">موظف الشهر 🎉</p>
      </div>
      <div class="card-container">
        <div class="info-card">
          <h3>تركي العتيبي</h3>
          <p>مدير العمليات اللوجستية بخبرة 10 سنوات.</p>
        </div>
        <div class="info-card">
          <h3>هيثم شريف</h3>
          <p>خبير خدمة عملاء ومسؤول عن رضا العملاء.</p>
        </div>
        <div class="info-card">
          <h3>مصطفى الكرداوي</h3>
          <p>محلل بيانات ومسؤول تحسين الأداء.</p>
        </div>
      </div>
    </section>

    <section id="Locations" class="Locations">
      <h2 id="Locations-title">مواقعنا</h2>
      <div class="card-container">
        <div class="info-card">
          <h3>الرياض</h3>
          <p>حي الرائد - الملز ش جرير - ظهرة لبن ش نابلس -ظهرة لبن ش نجران - قرطبة ش رضوى - الجنادرية</p>
        </div>
        <div class="info-card">
          <h3>القصيم</h3>
          <p> الرس - دخنة - الدليمية</p>
        </div>
        <div class="info-card">
          <h3> المنطقة الوسطى</h3>
          <p>حوطة بني تميم - الزلفي - شقراء -مرات - ثادق</p>
        </div>
        <div class="info-card">
          <h3> المنطقة الشمالية</h3>
          <p> دومة الجندل - الذيبية - مدينة الملك خالد العسكرية بحفر الباطن - رفحاء - حقل - تيماء - الوجه</p>
        </div>
        <div class="info-card">
          <h3>المنطقة الشرقية</h3>
          <p>النعيرية</p>
        </div>
        <div class="info-card">
          <h3> منطقة عسير</h3>
          <p>ابها -حي الموظفين</p>
        </div>
      </div>
      <img src="locations.jpg" alt="مواقعنا" class="illustration" />
    </section>

    <!-- NEW DOCUMENTATION SECTION -->
    <section id="documentation" class="documentation">
        <h2 id="documentation-title">المستندات والوثائق</h2>
        <p id="documentation-desc">يمكنك تحميل مستندات الشركة المهمة من هنا.</p>
        <a href="https://example.com/your-company-profile.pdf" target="_blank" class="action-button" id="download-company-profile">
            تحميل ملف الشركة (PDF)
        </a>
    </section>

    <section id="contact" class="contact">
      <h2 id="contact-title">تواصل معنا</h2>
      <p id="contact-desc">نحن هنا لمساعدتك. تواصل معنا عبر:</p>
      <ul id="contact-info">
        <li id="contact-phone">رقم الهاتف: 966536708287</li>
        <li id="contact-email">البريد: Info@abr-alawtan.com</li>
      </ul>
      
      <!-- New Contact Links Section -->
      <div class="contact-links-container">
        <a href="https://docs.google.com/spreadsheets/d/YOUR_SHEET_ID/edit" target="_blank" class="action-button" id="contact-info-link">
            إرسال معلومات الاتصال
        </a>
        <a href="https://docs.google.com/forms/d/e/YOUR_COMPLAINTS_FORM_ID/viewform" target="_blank" class="action-button" id="complaints-form-link">
            تقديم شكوى
        </a>
        <a href="https://docs.google.com/forms/d/e/YOUR_JOB_APPLICATION_FORM_ID/viewform" target="_blank" class="action-button" id="job-application-form-link">
            نموذج طلب وظيفة
        </a>
      </div>
    </section>
  </main>
  <footer>
    © 2025 مؤسسة عبر الأوطان لوسطاء الشحن. جميع الحقوق محفوظة.
  </footer>

  <!-- Main language and page translation script - loaded first -->
  <script>
    const switcher = document.getElementById("language-switcher");
    const html = document.documentElement;

   const translations = {
  ar: {
    dir: "rtl",
    switch: "EN",
    navLogoAlt: "شعار عبر الأوطان",
    nav: ["الرئيسية", "من نحن", "الوظائف", "عنا", "مواقعنا", "فريقنا", "المستندات", "تواصل"],
    home: ["مرحبًا بك في عبر الأوطان", "نقدم حلول شحن ذكية ومخفضة داخل المملكة"],
    about: ["من نحن", "نحن مؤسسة وساطة شحن تعمل منذ اكثر من عقد من الزمان لتجمع أفضل شركات الشحن في منصة واحدة."],
    jobs: ["فرص العمل", "انضم إلى فريقنا وكن جزءًا من نجاحنا!", ["مسوق ميداني", "موظف خدمة عملاء", "محلل بيانات لوجستية"]],
    tracking: ["تتبع شحنتك", "أدخل رقم التتبع لمعرفة حالة شحنتك:", "أدخل رقم التتبع", "تتبع الشحنة"],
    across: {
      title: "عنا",
      cards: [
        {
          heading: "رؤيتنا",
          paragraph: "أن نكون الخيار الأول والأكثر ثقة في قطاع الشحن المحلي داخل المملكة، من خلال تقديم حلول شحن ذكية، سريعة، وموثوقة تلبي احتياجات الأفراد والتجار."
        },
        {
          heading: "رسالتنا",
          paragraph: "توفير خدمات وساطة شحن محلية بتكلفة مناسبة وجودة عالية، من خلال شراكات استراتيجية مع أفضل شركات الشحن بنظامي CSP و DSP، وتمكين العملاء من الوصول إلى خيارات متنوعة بكل يسر وشفافية."
        },
        {
          heading: "أهدافنا",
          paragraph: "تحقيق التوسع، رضا العملاء، وبناء شراكات استراتيجية مع شركات الشحن المحلية."
        },
        {
          heading: "قيمنا",
          paragraph: "الشفافية: نلتزم بتقديم معلومات واضحة وصحيحة لعملائنا. الابتكار: نسعى لتبسيط تجربة الشحن وتقديم حلول تقنية متقدمة. الثقة: نبني علاقات طويلة المدى مبنية على الصدق والمصداقية. الاحترافية: نقدم خدماتنا بكفاءة عالية ومعايير مهنية صارمة."
        }
      ]
    },
    team: {
      title: "فريقنا",
      employeeMonthName: "سلمان خان",
      employeeMonthTitle: "موظف الشهر 🎉",
      members: [
        { name: "تركي العتيبي", title: "مدير العمليات اللوجستية بخبرة 10 سنوات." },
        { name: "هيثم شريف", title: "خبير خدمة عملاء ومسؤول عن رضا العملاء." },
        { name: "مصطفى الكرداوي", title: "محلل بيانات ومسؤول تحسين الأداء." }
      ]
    },
    Locations: {
      title: "مواقعنا",
      cards: [
        { heading: "الرياض", paragraph: "حي الرائد - الملز ش جرير - ظهرة لبن ش نابلس -ظهرة لبن ش نجران - قرطبة ش رضوى - الجنادرية" },
        { heading: "القصيم", paragraph: "الرس - دخنة - الدليمية" },
        { heading: "المنطقة الوسطى", paragraph: "حوطة بني تميم - الزلفي - شقراء -مرات - ثادق" },
        { heading: "المنطقة الشمالية", paragraph: "دومة الجندل - الذيبية - مدينة الملك خالد العسكرية بحفر الباطن - رفحاء - حقل - تيماء - الوجه" },
        { heading: "المنطقة الشرقية", paragraph: "النعيرية" },
        { heading: "منطقة عسير", paragraph: "ابها -حي الموظفين" }
      ]
    },
    documentation: {
        title: "المستندات والوثائق",
        desc: "يمكنك تحميل مستندات الشركة المهمة من هنا.",
        button: "تحميل ملف الشركة (PDF)"
    },
    contact: ["تواصل معنا", "نحن هنا لمساعدتك. تواصل معنا عبر:", "رقم الهاتف: 966536708287", "البريد: Info@abr-alawtan.com",
        "إرسال معلومات الاتصال", "تقديم شكوى", "نموذج طلب وظيفة"
    ],
    // New translations for file upload section
    upload: {
        cvTitle: "تقديم طلب وظيفة (اختياري)",
        cvDesc: "يمكنك رفع سيرتك الذاتية ووثائقك هنا. للتقديم الكامل، يرجى ملء نموذج طلب الوظيفة عبر الرابط في صفحة التواصل.",
        cvLabel: "رفع السيرة الذاتية (PDF)",
        idLabel: "رفع رخصة القيادة/الهوية (JPG, PNG)",
        uploadNote: "ملاحظة: هذه الواجهة تسمح لك باختيار الملفات فقط. لرفع الملفات فعلياً إلى أنظمتنا، يرجى استخدام نموذج طلب الوظيفة في صفحة 'تواصل معنا' والذي يدعم رفع الملفات.",
        fileSelected: "تم اختيار الملف: ",
        noFile: "لم يتم اختيار ملف."
    }
  },
  en: {
    dir: "ltr",
    switch: "中文",
    navLogoAlt: "Abr Al Awtan Logo",
    nav: ["Home", "About", "Jobs", "About Us", "Our Locations", "Our Team", "Documents", "Contact"],
    home: ["Welcome to Abr Al Awtan", "We offer smart and affordable shipping solutions within Saudi Arabia"],
    about: ["About Us", "We are a shipping brokerage that has been operating for over a decade, bringing together the best shipping companies on one platform."],
    jobs: ["Careers", "Join our team and be part of our success!", ["Field Marketer", "Customer Service Agent", "Logistics Data Analyst"]],
    tracking: ["Track Your Shipment", "Enter your tracking number to check shipment status:", "Enter tracking number", "Track Shipment"],
    across: {
      title: "About Us",
      cards: [
        {
          heading: "Our Vision",
          paragraph: "To be the first and most trusted choice in the local shipping sector within the Kingdom, by providing smart, fast, and reliable shipping solutions that meet the needs of individuals and businesses."
        },
        {
          heading: "Our Mission",
          paragraph: "To provide local shipping brokerage services at an affordable cost and high quality, through strategic partnerships with the best shipping companies using both CSP and DSP systems, enabling customers to access diverse options with ease and transparency."
        },
        {
          heading: "Our Goals",
          paragraph: "Achieve expansion, customer satisfaction, and build strategic partnerships with local shipping companies."
        },
        {
          heading: "Our Values",
          paragraph: "Transparency: We are committed to providing clear and accurate information to our customers. Innovation: We strive to simplify the shipping experience and offer advanced technical solutions. Trust: We build long-term relationships based on honesty and credibility. Professionalism: We provide our services with high efficiency and strict professional standards."
        }
      ]
    },
    team: {
      title: "Our Team",
      employeeMonthName: "Salman Khan",
      employeeMonthTitle: "Employee of the Month �",
      members: [
        { name: "Turki Al-Otaibi", title: "Logistics Operations Manager with 10 years of experience." },
        { name: "Haitham Sharif", title: "Customer service expert and responsible for customer satisfaction." },
        { name: "Mustafa Al-Kardawi", title: "Data analyst and performance improvement manager." }
      ]
    },
    Locations: {
      title: "Our Locations",
      cards: [
        { heading: "Riyadh", paragraph: "Al-Raid district - Al-Malaz st. Jarir - Dhahrat Laban st. Nablus - Dhahrat Laban st. Najran - Qurtubah st. Radwa - Al-Janadriyah" },
        { heading: "Al-Qassim", paragraph: "Al-Rass - Dukhna - Al-Dulaimiyah" },
        { heading: "Central Region", paragraph: "Howtat Bani Tamim - Al-Zulfi - Shaqra - Marrat - Thadig" },
        { heading: "Northern Region", paragraph: "Dumat Al-Jandal - Al-Dhaibiyah - King Khalid Military City in Hafar Al-Batin - Rafha - Haql - Taima - Al-Wajh" },
        { heading: "Eastern Region", paragraph: "Al-Nairiyah" },
        { heading: "Asir Region", paragraph: "Abha - Al-Mowazafeen district" }
      ]
    },
    documentation: {
        title: "Documents",
        desc: "You can download important company documents here.",
        button: "Download Company Profile (PDF)"
    },
    contact: ["Contact Us", "We're here to help. Reach us via:", "Phone: +966536708287", "Email: Info@abr-alawtan.com",
        "Submit Contact Info", "Submit Complaint", "Job Application Form"
    ],
    // New translations for file upload section
    upload: {
        cvTitle: "Submit Job Application (Optional)",
        cvDesc: "You can upload your CV and documents here. For full application, please fill out the job application form via the link on the Contact Us page.",
        cvLabel: "Upload CV (PDF)",
        idLabel: "Upload Driver's License/ID (JPG, PNG)",
        uploadNote: "Note: This interface allows you to select files only. To actually upload files to our systems, please use the job application form on the 'Contact Us' page which supports file uploads.",
        fileSelected: "File selected: ",
        noFile: "No file selected."
    }
  },
  zh: {
    dir: "ltr",
    switch: "عربي",
    navLogoAlt: "跨国物流标志",
    nav: ["首页", "关于我们", "招聘", "关于我们", "我们的地点", "我们的团队", "文件", "联系"],
    home: ["欢迎来到跨国物流", "我们在沙特提供智能又优惠的快递方案"],
    about: ["关于我们", "我们是一家经营了十多年的物流中介机构，将最好的物流公司整合到一个平台。"],
    jobs: ["招聘", "加入我们，共创辉煌！", ["市场专员", "客服专员", "物流数据分析师"]],
    tracking: ["追踪快递", "请输入快递单号查询状态：", "请输入单号", "追踪快递"],
    across: {
      title: "关于我们",
      cards: [
        {
          heading: "我们的愿景",
          paragraph: "通过提供智能、快速、可靠的运输解决方案，满足个人和企业的需求，成为沙特阿拉伯境内本地运输行业的首选和最值得信赖的选择。"
        },
        {
          heading: "我们的使命",
          paragraph: "通过与最佳运输公司（采用CSP和DSP系统）建立战略合作伙伴关系，提供经济实惠且高质量的本地运输代理服务，使客户能够轻松透明地访问各种选择。"
        },
        {
          heading: "我们的目标",
          paragraph: "实现业务扩展，提升客户满意度，并与本地运输公司建立战略合作伙伴关系。"
        },
        {
          heading: "我们的价值观",
          paragraph: "透明度：我们致力于为客户提供清晰准确的信息。创新：我们努力简化运输体验并提供先进的技术解决方案。信任：我们建立在诚实和信誉基础上的长期关系。专业精神：我们以高效率和严格的专业标准提供服务。"
        }
      ]
    },
    team: {
      title: "我们的团队",
      employeeMonthName: "萨勒曼·汗",
      employeeMonthTitle: "本月员工 🎉",
      members: [
        { name: "图尔基·阿尔-奥泰比", title: "拥有10年经验的物流运营经理。" },
        { name: "海赛姆·谢里夫", "title": "客户服务专家，负责客户满意度。" },
        { name: "穆斯塔法·阿尔-卡尔达维", "title": "数据分析师和绩效改进经理。" }
      ]
    },
    Locations: {
      title: "我们的地点",
      cards: [
        { heading: "利雅得", paragraph: "拉伊德区 - 马拉兹贾里尔街 - 达赫拉特拉班纳布卢斯街 - 达赫拉特拉班纳吉兰街 - 库尔图巴拉德瓦街 - 贾纳德里亚" },
        { heading: "盖西姆", paragraph: "拉萨 - 杜赫纳 - 杜莱米亚" },
        { heading: "中部地区", paragraph: "胡塔特巴尼塔米姆 - 祖尔菲 - 沙格拉 - 马拉特 - 萨迪格" },
        { heading: "北部地区", paragraph: "杜马特贾达尔 - 达伊比亚 - 哈法尔巴廷的哈立德国王军事城 - 拉夫哈 - 哈格尔 - 泰马 - 瓦杰" },
        { heading: "东部地区", paragraph: "奈里亚" },
        { heading: "阿西尔地区", paragraph: "艾卜哈 - 穆瓦扎芬区" }
      ]
    },
    documentation: {
        title: "文件",
        desc: "您可以在此处下载重要的公司文件。",
        button: "下载公司简介 (PDF)"
    },
    contact: ["联系我们", "我们随时为您服务，联系方式如下：", "电话: +966536708287", "邮箱: Info@abr-alawtan.com",
        "提交联系信息", "提交投诉", "职位申请表"
    ],
    // New translations for file upload section
    upload: {
        cvTitle: "提交职位申请 (可选)",
        cvDesc: "您可以在此处上传您的简历和文件。如需完整申请，请通过“联系我们”页面上的链接填写职位申请表。",
        cvLabel: "上传简历 (PDF)",
        idLabel: "上传驾驶执照/身份证 (JPG, PNG)",
        uploadNote: "注意：此界面仅允许您选择文件。要将文件实际上传到我们的系统，请使用“联系我们”页面上支持文件上传的职位申请表。",
        fileSelected: "已选择文件：",
        noFile: "未选择文件。"
    }
  }
};

/**
 * Applies the selected language translation to the entire page content.
 * @param {string} lang - The language code ('ar', 'en', 'zh').
 */
function applyTranslation(lang) {
  const t = translations[lang];
  html.lang = lang;
  html.dir = t.dir;
  document.getElementById("language-switcher").textContent = t.switch;
  document.getElementById("nav-logo-img").alt = t.navLogoAlt;

  // Update Navigation Links
  const navLinksData = [
      { id: "nav-home", text: t.nav[0] },
      { id: "nav-about", text: t.nav[1] },
      { id: "nav-jobs", text: t.nav[2] },
      { id: "nav-across", text: t.nav[3] },
      { id: "nav-Locations", text: t.nav[4] },
      { id: "nav-team", text: t.nav[5] },
      { id: "nav-documentation", text: t.nav[6] }, // New nav link
      { id: "nav-contact", text: t.nav[7] }
  ];
  navLinksData.forEach(link => {
      document.getElementById(link.id).textContent = link.text;
  });

  // Home Section Content
  document.getElementById("home-title").textContent = t.home[0];
  document.getElementById("home-desc").textContent = t.home[1];

  // About Us (main section) - Text content
  document.getElementById("about-title").textContent = t.about[0];
  document.getElementById("about-desc").textContent = t.about[1];

  // About Us Team Member Cards (GM, CEO, Admin Manager) - Order updated for translations
  const teamMembersAbout = document.querySelectorAll('#about .about-team-members-container .team-member');
  const teamMembersAboutData = [
    { ar: "المدير العام", en: "General Manager", zh: "总经理", descAr: "يشرف على العمليات اليومية ويضمن جودة الخدمات المقدمة للعملاء.", descEn: "Oversees daily operations and ensures the quality of services provided to customers.", descZh: "监督日常运营，确保为客户提供优质服务。" }, // Now at index 0
    { ar: "المدير التنفيذي", en: "CEO", zh: "首席执行官", descAr: "يقود المؤسسة برؤية استراتيجية ويضمن تحقيق أهداف النمو والتوسع.", descEn: "Leads the organization with a strategic vision and ensures the achievement of growth and expansion goals.", descZh: "以战略眼光领导组织，确保实现增长和扩张目标。" }, // Now at index 1 (middle)
    { ar: "المدير الإداري", en: "Administrative Manager", zh: "行政经理", descAr: "يدير الموارد الإدارية والمالية ويضمن التزام المؤسسة بالإجراءات التنظيمية.", descEn: "Manages administrative and financial resources and ensures the organization's compliance with regulatory procedures.", descZh: "管理行政和财务资源，确保组织遵守监管程序。" } // Now at index 2
  ];
  teamMembersAbout.forEach((member, index) => {
    if (member && teamMembersAboutData[index]) { // Ensure element and data exist
      member.querySelector('h3').textContent = teamMembersAboutData[index][lang];
      member.querySelector('p').textContent = teamMembersAboutData[index][lang === 'ar' ? 'descAr' : lang === 'en' ? 'descEn' : 'descZh'];
    }
  });

  // Jobs Section Content
  document.getElementById("jobs-title").textContent = t.jobs[0];
  document.getElementById("jobs-desc").textContent = t.jobs[1];
  document.getElementById("jobs-list").innerHTML = t.jobs[2].map(job => `<li>${job}</li>`).join('');

  // New Job Application Upload Section Translations
  document.getElementById("upload-cv-title").textContent = t.upload.cvTitle;
  document.getElementById("upload-cv-desc").textContent = t.upload.cvDesc;
  document.getElementById("cv-upload-label").textContent = t.upload.cvLabel;
  document.getElementById("id-upload-label").textContent = t.upload.idLabel;
  document.getElementById("upload-note").textContent = t.upload.uploadNote;


  // Home Page Tracking Widget Translation
  document.getElementById("tracking-title").textContent = t.tracking[0];
  document.getElementById("tracking-desc").textContent = t.tracking[1];
  document.getElementById("tracking-input").placeholder = t.tracking[2];
  document.getElementById("track-button").textContent = t.tracking[3];

  // Across Section (About Us - Cards, separate from team members)
  document.getElementById("across-title").textContent = t.across.title;
  const acrossCards = document.querySelectorAll('#across .info-card');
  t.across.cards.forEach((cardData, index) => {
    if (acrossCards[index]) {
      acrossCards[index].querySelector('h3').textContent = cardData.heading;
      acrossCards[index].querySelector('p').textContent = cardData.paragraph;
    }
  });

  // Team Section (Employee of the Month + other team members)
  document.getElementById("team-title").textContent = t.team.title;
  document.getElementById("employee-month-name").textContent = t.team.employeeMonthName;
  document.getElementById("employee-month-title").textContent = t.team.employeeMonthTitle;
  const teamCards = document.querySelectorAll('#team .card-container .info-card'); // Note: These are .info-card, not .team-member
  t.team.members.forEach((memberData, index) => {
    if (teamCards[index]) {
      teamCards[index].querySelector('h3').textContent = memberData.name;
      teamCards[index].querySelector('p').textContent = memberData.title;
    }
  });


  // Locations Section
  document.getElementById("Locations-title").textContent = t.Locations.title;
  const locationCards = document.querySelectorAll('#Locations .info-card');
  t.Locations.cards.forEach((cardData, index) => {
    if (locationCards[index]) {
      locationCards[index].querySelector('h3').textContent = cardData.heading;
      locationCards[index].querySelector('p').textContent = cardData.paragraph;
    }
  });

  // Documentation Section
  document.getElementById("documentation-title").textContent = t.documentation.title;
  document.getElementById("documentation-desc").textContent = t.documentation.desc;
  document.getElementById("download-company-profile").textContent = t.documentation.button;


  // Contact Section
  document.getElementById("contact-title").textContent = t.contact[0];
  document.getElementById("contact-desc").textContent = t.contact[1];
  document.getElementById("contact-phone").textContent = t.contact[2];
  document.getElementById("contact-email").textContent = t.contact[3];
  document.getElementById("contact-info-link").textContent = t.contact[4];
  document.getElementById("complaints-form-link").textContent = t.contact[5];
  document.getElementById("job-application-form-link").textContent = t.contact[6];


  // Adjust tracking widget text alignment based on language direction
  const trackingWidget = document.getElementById('home-tracking-widget');
  if (trackingWidget) {
    trackingWidget.style.textAlign = (t.dir === 'rtl') ? 'right' : 'left';
  }
}

// Event listener for language switcher
switcher.addEventListener("click", () => {
  const currentLang = html.lang;
  // Cycle between ar, en, zh
  const nextLang = currentLang === "ar" ? "en" : currentLang === "en" ? "zh" : "ar";
  applyTranslation(nextLang);
});

// Initial page translation on load
applyTranslation("ar");


trackButton.addEventListener('click', async () => {
  const trackingNumber = trackingInput.value.trim();
  const currentLang = html.lang;
  trackingResultsDiv.style.display = 'block';

  if (!trackingNumber) {
    trackingResultsDiv.textContent = currentLang === 'ar' ? 'الرجاء إدخال رقم تتبع.' :
                                     currentLang === 'en' ? 'Please enter a tracking number.' :
                                     '请输入追踪号码。';
    return;
  }

  const courier = prompt(currentLang === 'ar' ? 'اختر شركة التوصيل: aramex أو imile' :
                         currentLang === 'en' ? 'Choose courier: aramex or imile' :
                         '请选择快递公司：aramex 或 imile').toLowerCase();

  if (!['aramex', 'imile'].includes(courier)) {
    trackingResultsDiv.textContent = currentLang === 'ar' ? 'شركة الشحن غير مدعومة.' :
                                     currentLang === 'en' ? 'Unsupported courier.' :
                                     '不支持的快递公司。';
    return;
  }

  try {
    const res = await fetch('https://abralawtan-site.vercel.app/api/track', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ trackingNumber, courier })
    });

    const data = await res.json();

    if (res.ok && data) {
      trackingResultsDiv.textContent = JSON.stringify(data, null, 2);
    } else {
      trackingResultsDiv.textContent = currentLang === 'ar' ? 'لم يتم العثور على بيانات التتبع.' :
                                       currentLang === 'en' ? 'Tracking data not found.' :
                                       '未找到追踪信息。';
    }
  } catch (err) {
    trackingResultsDiv.textContent = currentLang === 'ar' ? 'حدث خطأ أثناء التتبع.' :
                                     currentLang === 'en' ? 'Error fetching tracking info.' :
                                     '获取追踪信息时出错。';
  }
});

</script>

<!-- Chatbot Icon and Main Chatbot Modal -->
<div id="chat-icon">
  <button aria-label="Open Chat">💬</button>
</div>

<div id="chatbot" role="dialog" aria-modal="true" aria-labelledby="chatbot-title">
  <div id="chatbot-header">
    <span id="chatbot-title">مساعد عبر الأوطان</span>
    <button id="lang-toggle" aria-label="Toggle Chatbot Language">EN</button>
  </div>
  <div id="chat-log" aria-live="polite" aria-atomic="false"></div>
  <form id="chat-form" autocomplete="off">
    <input type="text" id="user-input" placeholder="اكتب سؤالك هنا..." aria-label="ادخل رسالتك" />
    <button type="submit">إرسال</button>
  </form>
</div>

<!-- Main JavaScript for Chatbot and Tracking -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const chat = document.getElementById("chatbot");
    const chatIconBtn = document.querySelector("#chat-icon button");
    const chatLog = document.getElementById("chat-log");
    const chatForm = document.getElementById("chat-form");
    const userInput = document.getElementById("user-input");
    const langToggleBtn = document.getElementById("lang-toggle");
    const chatbotTitle = document.getElementById("chatbot-title"); 
    
    // Tracking elements (defined inside DOMContentLoaded as they are used here)
    const trackingInput = document.getElementById('tracking-input');
    const trackButton = document.getElementById('track-button');
    const trackingResultsDiv = document.getElementById('tracking-results');

    // File Upload Elements
    const cvUploadInput = document.getElementById('cv-upload-input');
    const cvUploadStatus = document.getElementById('cv-upload-status');
    const idUploadInput = document.getElementById('id-upload-input');
    const idUploadStatus = document.getElementById('id-upload-status');


    let language = localStorage.getItem('chatLang') || 'ar';
    

    const responses = {
      ar: {
        title: "مساعد عبر الأوطان",
        inputPlaceholder: "اكتب سؤالك هنا...",
        sendButton: "إرسال",
        quickReplies: ["أسعار الشحن", "تتبع الشحنة", "خدماتنا", "التواصل"],
        welcome: 'مرحبًا! كيف يمكنني مساعدتك اليوم؟ يمكنك استخدام الخيارات الجاهزة أدناه أو كتابة سؤالك.',
        typing: 'المساعد يكتب...',
        ratingPrompt: 'هل كانت الخدمة مفيدة؟',
        ratingThanksPositive: 'شكرًا لتقييمك الإيجابي!',
        ratingThanksFeedback: 'شكرًا لملاحظاتك، سنعمل على تحسين الخدمة.',
        // Keywords to trigger end of conversation and rating prompt
        endConversationKeywords: ["شكرا", "مع السلامة", "انتهيت", "وداعا"],
        // Static replies (will be overridden by LLM for direct queries)
        data: [
            { keywords: ["أسعار", "سعر", "كم", "price", "cost"], reply: "نقدم أسعار شحن مخفضة تبدأ من 12 ريال داخل المملكة. لمزيد من التفاصيل، تواصل معنا عبر واتساب." },
            { keywords: ["خدمة", "services", "تقدمون", "what"], reply: "نحن نوفر وساطة شحن مع أفضل شركات الشحن داخل المملكة مثل سمسا وناقل وأرامكس." },
            { keywords: ["تتبع", "tracking", "track"], reply: "يمكنك تتبع شحنتك من خلال رقم التتبع بعد تأكيد الطلب عبر شركائنا." },
            { keywords: ["وظائف", "وظيفة", "career", "job"], reply: "نحن نبحث دائمًا عن مواهب جديدة! يمكنك التقديم عبر صفحة الوظائف أو إرسال السيرة الذاتية إلى hr@abr-alawtan.com" },
            { keywords: ["hello", "hi", "مرحبا", "السلام", "أهلًا"], reply: "مرحبًا بك! كيف يمكنني مساعدتك اليوم؟" },
            { keywords: ["رقم", "contact", "تواصل", "whatsapp"], reply: "يمكنك التواصل معنا عبر الرقم: +966531954447 أو عبر البريد: Shaiba@abr-alawtan.com" },
            { keywords: ["شكرا", "thank you", "شكرًا", "thanks", "مع السلامة", "goodbye", "byebye", "وداعا", "انتهيت"], reply: "على الرحب والسعة! أتمنى لك يوماً سعيداً." },
            { keywords: [], reply: "عذرًا، لم أفهم سؤالك تمامًا. يرجى إعادة صياغته أو التواصل مع خدمة العملاء مباشرة." }
        ]
      },
      en: {
        title: "Abr Al Awtan Assistant",
        inputPlaceholder: "Type your question here...",
        sendButton: "Send",
        quickReplies: ["Shipping prices", "Track shipment", "Our services", "Contact us"],
        welcome: 'Welcome! How can I assist you today? You can use quick replies below or type your question.',
        typing: 'Assistant is typing...',
        ratingPrompt: 'Was this service helpful?',
        ratingThanksPositive: 'Thanks for your positive feedback!',
        ratingThanksFeedback: 'Thanks for your feedback, we will improve.',
        // Keywords to trigger end of conversation and rating prompt
        endConversationKeywords: ["thank you", "goodbye", "bye", "finished"],
        // Static replies (will be overridden by LLM for direct queries)
        data: [
            { keywords: ["price", "cost", "how much"], reply: "We offer discounted shipping rates starting from 12 SAR within Saudi Arabia. Contact us on WhatsApp for more details." },
            { keywords: ["service", "services", "what"], reply: "We provide shipping brokerage with top companies inside Saudi Arabia like SMSA, Naqel, and Aramex." },
            { keywords: ["tracking", "track"], reply: "You can track your shipment with the tracking number after order confirmation via our partners." },
            { keywords: ["job", "career", "vacancy"], reply: "We are always looking for new talents! Apply via the careers page or send your CV to hr@abr-alawtan.com" },
            { keywords: ["hello", "hi", "مرحبا", "السلام", "أهلًا"], reply: "Hello! How can I assist you today?" },
            { keywords: ["contact", "phone", "whatsapp"], reply: "You can contact us at: +966531954447 or via email: Shaiba@abr-alawtan.com" },
            { keywords: ["thank you", "thanks", "goodbye", "bye", "finished"], reply: "You're welcome! Have a great day." },
            { keywords: [], reply: "Sorry, I didn't understand your question. Please rephrase or contact customer support." }
        ]
      },
      zh: {
        title: "跨国物流助手",
        inputPlaceholder: "在此输入您的问题...",
        sendButton: "发送",
        quickReplies: ["运输价格", "追踪快递", "我们的服务", "联系我们"],
        welcome: '您好！今天我能为您提供什么帮助？您可以使用下方快捷回复或直接输入您的问题。',
        typing: '助手正在输入...',
        ratingPrompt: '这项服务有帮助吗？',
        ratingThanksPositive: '感谢您的积极评价！',
        ratingThanksFeedback: '感谢您的反馈，我们将努力改进。',
        endConversationKeywords: ["谢谢", "再见", "结束了", "祝好"],
        data: [
            { keywords: ["价格", "费用", "多少钱"], reply: "我们在沙特阿拉伯提供折扣运输费，起价为12沙特里亚尔。如需更多详情，请通过WhatsApp与我们联系。" },
            { keywords: ["服务", "提供什么"], reply: "我们与沙特阿拉伯境内的顶级运输公司（如SMSA、Naqel和Aramex）提供运输代理服务。" },
            { keywords: ["追踪", "快递", "跟踪"], reply: "通过我们的合作伙伴确认订单后，您可以使用追踪号码追踪您的货物。" },
            { keywords: ["工作", "职位", "招聘"], reply: "我们一直在寻找新人才！您可以通过职业页面申请或将您的简历发送至hr@abr-alawtan.com" },
            { keywords: ["你好", "您好"], reply: "您好！今天我能为您提供什么帮助？" },
            { keywords: ["联系", "电话", "WhatsApp"], reply: "您可以通过以下方式联系我们：电话：+966531954447 或邮箱：Shaiba@abr-alawtan.com" },
            { keywords: ["谢谢", "感谢", "再见", "祝好", "结束了"], reply: "不客气！祝您有美好的一天。" },
            { keywords: [], reply: "抱歉，我不太明白您的问题。请重新表述或直接联系客户服务。" }
        ]
      }
    };
    
    /**
     * Updates the chatbot UI elements (title, input placeholder, send button) based on the current language.
     */
    function updateChatbotUI() {
        // Toggles text between English, Chinese, and Arabic
        langToggleBtn.textContent = language === 'ar' ? 'EN' : (language === 'en' ? '中文' : 'ع'); 
        chatbotTitle.textContent = responses[language].title;
        userInput.placeholder = responses[language].inputPlaceholder;
        chatForm.querySelector('button[type="submit"]').textContent = responses[language].sendButton;
    }

    /**
     * Saves the current conversation log to localStorage.
     */
    function saveConversation() {
      const msgs = Array.from(chatLog.children).map(div => ({
        className: div.className,
        text: div.textContent,
        isQuickReplyContainer: div.classList.contains('quick-reply-container'), 
        isRatingContainer: div.classList.contains('rating-container') 
      }));
      localStorage.setItem(`chatConversation_${language}`, JSON.stringify(msgs));
    }

    /**
     * Loads a conversation from localStorage and appends messages to the chat log.
     * Shows welcome message if no conversation is found.
     */
    function loadConversation() {
      chatLog.innerHTML = ''; // Clear current chat log
      const saved = localStorage.getItem(`chatConversation_${language}`);
      if (saved) {
        const msgs = JSON.parse(saved);
        msgs.forEach(msg => {
          if (msg.isQuickReplyContainer) { 
            showQuickReplies(); // Re-add quick replies if they were part of the saved state
          } else if (msg.isRatingContainer) { 
             showRating(); // Re-add rating prompt if it was part of the saved state
          }else {
            const div = document.createElement('div');
            div.className = msg.className;
            div.textContent = msg.text;
            chatLog.appendChild(div);
          }
        });
        chatLog.scrollTop = chatLog.scrollHeight; // Scroll to bottom
      } else {
         showWelcome(); // If no saved conversation, show welcome
      }
    }

    /**
     * Adds a new message to the chat log.
     * @param {string} who - The sender of the message ('user' or 'bot').
     * @param {string} text - The content of the message.
     */
    function addMessage(who, text) {
      const div = document.createElement('div');
      div.className = `chat-message ${who}`;
      div.textContent = text;
      chatLog.appendChild(div);
      chatLog.scrollTop = chatLog.scrollHeight; // Auto-scroll to latest message
      
      if (who === 'bot') notifyNewMessage(); // Notify if chatbot is hidden
      saveConversation(); // Save conversation after each message
    }

    /**
     * Displays the welcome message and initial quick replies.
     */
    function showWelcome() {
      addMessage('bot', responses[language].welcome);
      showQuickReplies();
    }
    
    /**
     * Displays quick reply buttons for common queries.
     */
    function showQuickReplies() {
      // Remove any existing quick replies to prevent duplicates
      const existingReplies = chatLog.querySelector('.quick-reply-container');
      if (existingReplies) existingReplies.remove();

      const container = document.createElement('div');
      container.className = 'quick-reply-container'; 
      container.style.marginTop = '10px';
      container.style.display = 'flex';
      container.style.flexWrap = 'wrap';
      container.style.justifyContent = 'center'; 
      container.style.gap = '8px';

      responses[language].quickReplies.forEach(text => {
        const btn = document.createElement('button');
        btn.textContent = text;
        
        btn.addEventListener('click', () => {
          addMessage('user', text); // Add user message
          processUserInput(text); // Process the quick reply as user input
          container.remove(); // Remove quick reply buttons after selection
          saveConversation(); 
        });
        container.appendChild(btn);
      });
      chatLog.appendChild(container);
      chatLog.scrollTop = chatLog.scrollHeight;
      saveConversation(); 
    }

    let typingTimeout;
    /**
     * Displays a "typing..." indicator in the chat log.
     */
    function showTypingIndicator() {
      const indicator = document.createElement('div');
      indicator.id = 'typing-indicator';
      indicator.textContent = responses[language].typing;
      chatLog.appendChild(indicator);
      chatLog.scrollTop = chatLog.scrollHeight;
    }
    /**
     * Removes the "typing..." indicator from the chat log.
     */
    function clearTypingIndicator() {
      const indicator = document.getElementById('typing-indicator');
      if (indicator) indicator.remove();
    }

    /**
     * Displays a rating prompt with thumbs up/down buttons.
     */
    function showRating() {
      // Remove any existing rating prompt to prevent duplicates
      const existingRating = chatLog.querySelector('.rating-container');
      if (existingRating) existingRating.remove();

      const container = document.createElement('div');
      container.className = 'rating-container'; 
      container.style.marginTop = '10px';
      container.style.textAlign = 'center';
      container.style.paddingTop = '10px';
      container.style.borderTop = '1px solid #ddd';

      const text = document.createElement('p');
      text.textContent = responses[language].ratingPrompt;
      container.appendChild(text);

      const thumbsUp = document.createElement('button');
      thumbsUp.textContent = '👍';
      thumbsUp.style.margin = '0 10px';
      thumbsUp.style.fontSize = '1.5rem';
      thumbsUp.style.cursor = 'pointer';
      thumbsUp.style.background = 'none';
      thumbsUp.style.border = 'none';
      thumbsUp.addEventListener('click', () => {
        addMessage('bot', responses[language].ratingThanksPositive);
        container.remove(); // Remove rating buttons after selection
        saveConversation(); 
      });

      const thumbsDown = document.createElement('button');
      thumbsDown.textContent = '👎';
      thumbsDown.style.margin = '0 10px';
      thumbsDown.style.fontSize = '1.5rem';
      thumbsDown.style.cursor = 'pointer';
      thumbsDown.style.background = 'none';
      thumbsDown.style.border = 'none';
      thumbsDown.addEventListener('click', () => {
        addMessage('bot', responses[language].ratingThanksFeedback);
        container.remove(); // Remove rating buttons after selection
        saveConversation(); 
      });

      container.appendChild(thumbsUp);
      container.appendChild(thumbsDown);

      chatLog.appendChild(container);
      chatLog.scrollTop = chatLog.scrollHeight;
      saveConversation(); 
    }

    let newMessageAlert = false;
    /**
     * Resets the new message notification animation on the chat icon.
     */
    function resetNewMessageAlert() {
      newMessageAlert = false;
      chatIconBtn.style.animation = "none";
      void chatIconBtn.offsetWidth; // Trigger reflow to restart animation
      chatIconBtn.style.animation = "";
    }
    /**
     * Triggers a visual notification on the chat icon when a new bot message arrives while the chatbot is hidden.
     */
    function notifyNewMessage() {
      if (chat.style.display === "none" && !newMessageAlert) {
        newMessageAlert = true;
        chatIconBtn.style.animation = "shake 0.5s ease-in-out 3"; // Shake animation
      }
    }

    /**
     * Toggles the language of the chatbot.
     */
    function toggleChatbotLanguage() {
      // Cycle between ar, en, zh for chatbot
      if (language === 'ar') {
        language = 'en';
      } else if (language === 'en') {
        language = 'zh';
      } else { // current language is 'zh'
        language = 'ar';
      }
      localStorage.setItem('chatLang', language);
      updateChatbotUI();
      clearChat(false); // Clear chat but don't show welcome immediately
      loadConversation(); // Load conversation in new language
      if (chatLog.children.length === 0) { 
          showWelcome(); // Show welcome if no saved conversation for new lang
      }
    }
    langToggleBtn.addEventListener('click', toggleChatbotLanguage);

    /**
     * Clears the chat history in the UI and localStorage.
     * @param {boolean} shouldShowWelcome - If true, displays the welcome message after clearing.
     */
    function clearChat(shouldShowWelcome = true) {
      chatLog.innerHTML = '';
      localStorage.removeItem(`chatConversation_${language}`);
      if (shouldShowWelcome) {
          showWelcome();
      }
    }
    
    /**
     * Toggles the visibility of the chatbot modal.
     */
    function toggleChat() {
      if (chat.style.display === "flex") {
        chat.style.display = "none";
      } else {
        chat.style.display = "flex";
        // Only load/show welcome if chat log is empty OR no conversation was saved for current lang
        if (chatLog.children.length === 0 && !localStorage.getItem(`chatConversation_${language}`)) {
            showWelcome(); 
        } else {
            loadConversation(); // Always load conversation when opening
        }
        chatLog.scrollTop = chatLog.scrollHeight; 
        resetNewMessageAlert(); // Clear notification when chat is opened
      }
    }
    chatIconBtn.addEventListener("click", toggleChat);

    /**
     * Processes user input and generates a bot response using Gemini API.
     * @param {string} userText - The text entered by the user.
     */
    async function processUserInput(userText) { // Made async
        clearTypingIndicator(); 
        showTypingIndicator();

        // Remove quick replies and rating prompts
        const quickRepliesEl = chatLog.querySelector('.quick-reply-container');
        if (quickRepliesEl) quickRepliesEl.remove(); 
        const ratingEl = chatLog.querySelector('.rating-container');
        if (ratingEl) ratingEl.remove();

        // Check if user input contains end-of-conversation keywords
        const isEndConversation = responses[language].endConversationKeywords.some(keyword => 
            userText.toLowerCase().includes(keyword.toLowerCase())
        );

        let systemPrompt;
        if (language === 'ar') {
            systemPrompt = "أنت مساعد مفيد لموقع مؤسسة عبر الأوطان لوسطاء الشحن. هدفك هو الإجابة على الأسئلة المتعلقة حصراً بخدمات عبر الأوطان، مواقعها، فرص العمل، ملف الشركة، ومعلومات الاتصال. لا تجب على الأسئلة خارج هذا النطاق. إذا كان السؤال غير ذي صلة، اذكر أنك تستطيع الإجابة على الأسئلة المتعلقة بعبر الأوطان فقط. استفسار المستخدم هو: ";
        } else if (language === 'en') {
            systemPrompt = "You are a helpful assistant for Abr Alawtan shipping brokers company website. Your purpose is to answer questions strictly related to Abr Alawtan's services, locations, job opportunities, company profile, and contact information. Do not answer questions outside of this scope. If a question is irrelevant, state that you can only answer questions related to Abr Alawtan. The user's query is: ";
        } else if (language === 'zh') {
            systemPrompt = "您是跨国物流公司网站的有用助手。您的目的是严格回答与跨国物流的服务、地点、工作机会、公司简介和联系信息相关的问题。请勿回答超出此范围的问题。如果问题不相关，请说明您只能回答与跨国物流相关的问题。用户的查询是：";
        }

        // Prepare chat history for the LLM call (send system prompt + user query)
        let chatHistory = [];
        chatHistory.push({ role: "user", parts: [{ text: systemPrompt + userText }] });

        const payload = { contents: chatHistory };
        const apiKey = ""; // Canvas will provide this at runtime
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

        let botResponse = responses[language].data[responses[language].data.length - 1].reply; // Default static fallback

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            const result = await response.json();

            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                botResponse = result.candidates[0].content.parts[0].text;
            } else {
                // Fallback to static response if Gemini API fails or returns unexpected structure
                console.error("Gemini API response error or unexpected structure:", result);
                botResponse = responses[language].data[responses[language].data.length - 1].reply;
            }
        } catch (error) {
            console.error("Error calling Gemini API:", error);
            // Fallback to static response on network error or other exceptions
            botResponse = responses[language].data[responses[language].data.length - 1].reply;
        } finally {
            clearTypingIndicator();
            // Add a sparkle emoji to indicate LLM-generated response
            addMessage('bot', `✨ ${botResponse}`);
            
            // Show rating ONLY if it's an end-of-conversation phrase
            if (isEndConversation) {
                showRating();
            }
            saveConversation();
        }
    }

    // Event listener for chatbot form submission
    chatForm.addEventListener("submit", e => {
      e.preventDefault(); // Prevent page reload
      const userText = userInput.value.trim();
      if (!userText) return; // Don't send empty messages

      addMessage('user', userText); // Add user message to log
      userInput.value = ''; // Clear input field
      processUserInput(userText); // Process the input using the async function
    });
    
    // Initial UI update for chatbot on DOMContentLoaded
    updateChatbotUI(); 

    // Smooth scroll for nav home link
    document.getElementById("nav-home").addEventListener("click", (e) => {
      e.preventDefault();
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // Tracking functionality for the home page widget
    trackButton.addEventListener('click', async () => {
      const trackingNumber = trackingInput.value.trim();
      const currentLang = html.lang;
      trackingResultsDiv.style.display = 'block'; // Ensure results div is visible

      if (!trackingNumber) {
        trackingResultsDiv.textContent = currentLang === 'ar' ? 'الرجاء إدخال رقم تتبع.' :
                                         currentLang === 'en' ? 'Please enter a tracking number.' :
                                         '请输入追踪号码。';
        return; // Stop if no tracking number
      }

      // Using prompt for courier selection. Consider a more user-friendly UI for production.
      const courier = prompt(currentLang === 'ar' ? 'اختر شركة التوصيل: aramex أو imile' :
                             currentLang === 'en' ? 'Choose courier: aramex or imile' :
                             '请选择快递公司：aramex 或 imile').toLowerCase();

      if (!['aramex', 'imile'].includes(courier)) {
        trackingResultsDiv.textContent = currentLang === 'ar' ? 'شركة الشحن غير مدعومة.' :
                                         currentLang === 'en' ? 'Unsupported courier.' :
                                         '不支持的快递公司。';
        return; // Stop if unsupported courier
      }

      try {
        // IMPORTANT: Replace 'https://YOUR_VERCEL_PROJECT.vercel.app/api/track'
        // with your actual Vercel API endpoint for tracking.
        const res = await fetch('https://YOUR_VERCEL_PROJECT.vercel.app/api/track', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ trackingNumber, courier })
        });

        const data = await res.json(); // Parse the JSON response

        // Display tracking data or error
        if (res.ok && data) {
          trackingResultsDiv.textContent = JSON.stringify(data, null, 2); // Pretty print JSON response
        } else {
          trackingResultsDiv.textContent = currentLang === 'ar' ? 'لم يتم العثور على بيانات التتبع.' :
                                           currentLang === 'en' ? 'Tracking data not found.' :
                                           '未找到追踪信息。';
        }
      } catch (err) {
        // Log the error for debugging (optional)
        console.error("Tracking API error:", err);
        trackingResultsDiv.textContent = currentLang === 'ar' ? 'حدث خطأ أثناء التتبع.' :
                                         currentLang === 'en' ? 'Error fetching tracking info.' :
                                         '获取追踪信息时出错。';
      }
    });

    // Handle CV and ID file selections
    cvUploadInput.addEventListener('change', () => {
        if (cvUploadInput.files.length > 0) {
            cvUploadStatus.textContent = `${translations[html.lang].upload.fileSelected} ${cvUploadInput.files[0].name}`;
        } else {
            cvUploadStatus.textContent = translations[html.lang].upload.noFile;
        }
    });

    idUploadInput.addEventListener('change', () => {
        if (idUploadInput.files.length > 0) {
            idUploadStatus.textContent = `${translations[html.lang].upload.fileSelected} ${idUploadInput.files[0].name}`;
        } else {
            idUploadStatus.textContent = translations[html.lang].upload.noFile;
        }
    });

  });
</script>
</body>
</html>
�
